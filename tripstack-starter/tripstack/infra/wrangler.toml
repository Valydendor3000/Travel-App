name = "tripstack-api"
main = "packages/api/src/index.ts"
compatibility_date = "2025-01-15"

[[durable_objects.bindings]]
name = "CHAT_DO"
class_name = "ChatRoom"

[[migrations]]
tag = "v1"
new_classes = ["ChatRoom"]

[[d1_databases]]
binding = "DB"
database_name = "${CF_D1_DB_NAME}"
database_id = "${CF_D1_DB_ID}"
migrations_dir = "migrations"

[[kv_namespaces]]
binding = "TRIPSTACK_KV"
id = "${CF_KV_NAMESPACE}"

[[r2_buckets]]
binding = "R2_BUCKET"
bucket_name = "tripstack-assets"

[vars]
JWT_ISS = "${JWT_ISS}"
JWT_AUD = "${JWT_AUD}"
